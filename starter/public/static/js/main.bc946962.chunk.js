(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{201:function(e,t,a){e.exports=a(426)},426:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(76),l=a.n(c),s=a(60),o=a(13),i=a(28);function m(){return function(e,t){return fetch("".concat(E,"/logout"),{method:"get",credentials:"include"})}}var u=a(49),d="ERROR_GENERIC_NEW",h={error:""};var E="https://comp4669.garytong.com";function p(e){return function(t,a){return 401!==e.status&&302!==e.status||(console.log("asd32"),t(m())),e}}var f=Object(i.b)()((function(e){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-transparent navbar-absolute"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"COMP 4669"),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("a",{className:"pull-right",href:"#",onClick:function(t){t.preventDefault(),e.dispatch(m()).then((function(){window.location.href="/"}))}},"Logout"))),"}")),r.a.createElement("div",{className:"wrapper wrapper-full-page"},r.a.createElement("div",{className:"full-page login-page ","data-color":"blue","data-image":"/assets/img/background/background-2.jpg"},r.a.createElement("div",{className:"full-page-background"}),e.children,r.a.createElement("footer",{className:"footer footer-transparent"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"copyright"},"COMP 4669 \xa9 ",(new Date).getFullYear()))))))})),v=a(44),b=a(45),g=a(47),N=a(48),O=a(46),w=function(e){Object(N.a)(a,e);var t=Object(g.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(O.CSSTransitionGroup,{transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300,transitionName:"page-transitions"},r.a.createElement("div",{className:"col-md-4 col-sm-6 col-md-offset-4 col-sm-offset-3"},r.a.createElement("form",{method:"#",action:"#"},r.a.createElement("div",{className:"card card-login","data-background":"color","data-color":"blue"},r.a.createElement("div",{className:"card-header"}),r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"card-title text-center"},"Page Not Found")),r.a.createElement("div",{className:"card-footer text-center"}))))))))}}]),a}(r.a.Component),j=function(e){Object(N.a)(a,e);var t=Object(g.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e,t){return fetch("".concat(E,"/profiles/all"),{method:"get",credentials:"include"}).then((function(t){return e(p(t)),t.json()})).then((function(t){return e({type:"GETALL_USERS",users:t.users}),t})).catch((function(t){e({type:d,status:!1,message:"Unable get all users. Our engineers are on it!"})}))}))}},{key:"render",value:function(){var e=this,t=this.props.users;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(O.CSSTransitionGroup,{transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300,transitionName:"page-transitions"},r.a.createElement("div",{className:"col-md-6 col-sm-6 col-md-offset-4 col-sm-offset-3"},r.a.createElement("div",{className:"card card-login","data-background":"color","data-color":"blue"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-title text-center"},"Users")),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-content"},r.a.createElement("table",{className:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"users-list-img"}),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"))),r.a.createElement("tbody",null,t&&t.length>0?t.map((function(t,a){return r.a.createElement("tr",{key:"user"+a,className:"users-list",onClick:function(){var a;e.props.dispatch((a=t.id,function(e,t){return fetch("".concat(E,"/wishes/user?id=")+a,{method:"get",credentials:"include"}).then((function(t){return e(p(t)),t.json()})).then((function(t){return e({type:"GET_USERS_POSTS",wishes:t.wishes}),t})).catch((function(t){e({type:d,status:!1,message:"Unable get post. Our engineers are on it!"})}))})),e.props.history.push("/dashboard/wishes")}},r.a.createElement("td",null,r.a.createElement("img",{alt:"Profile",className:"img-circle img-users",src:t.picture})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email))})):"")))),r.a.createElement("div",{className:"card-footer text-center"})))))))}}]),a}(r.a.Component);var y=Object(i.b)((function(e){return{users:e.account.users}}))(Object(o.f)(j)),S=function(e){Object(N.a)(a,e);var t=Object(g.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props.wishes;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(O.CSSTransitionGroup,{transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300,transitionName:"page-transitions"},r.a.createElement("div",{className:"col-md-6 col-sm-6 col-md-offset-4 col-sm-offset-3"},r.a.createElement("div",{className:"card card-login","data-background":"color","data-color":"blue"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-title text-center"},"Wishes")),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-content"},r.a.createElement("table",{className:"table "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Comment"))),r.a.createElement("tbody",null,e&&e.length>0?e.map((function(e,t){return r.a.createElement("tr",{key:"wish"+t,className:"wishes-list"},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.wish))})):"")))),r.a.createElement("div",{className:"card-footer text-center"})))))))}}]),a}(r.a.Component);var T=Object(i.b)((function(e){return{wishes:e.account.wishes}}))(Object(o.f)(S)),k=function(e){Object(N.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={title:"",wish:""},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e,t){return fetch("".concat(E,"/me"),{method:"get",credentials:"include"}).then((function(t){return e(p(t)),t.json()})).then((function(t){e({type:"USER_SELF",profile:t})})).catch((function(t){e({type:d,status:!1,message:"Unable to get your profile. Our engineers are on it!"})}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(O.CSSTransitionGroup,{transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300,transitionName:"page-transitions"},r.a.createElement("div",{className:"col-md-6 col-sm-6 col-md-offset-4 col-sm-offset-3"},r.a.createElement("form",{method:"#",action:"#",onSubmit:function(t){var a,n;t.preventDefault(),e.props.dispatch((a=e.state.title,n=e.state.wish,function(e,t){return fetch("".concat(E,"/wishes"),{method:"post",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({title:a,wish:n,_token:t().account.csrf})}).then((function(t){return e(p(t)),t.json()})).then((function(e){return e})).catch((function(t){e({type:d,status:!1,message:"Unable to wish."})}))})).then((function(t){t&&"saved"===t.status&&e.props.history.push("/dashboard/users")}))}},r.a.createElement("div",{className:"card card-login","data-background":"color","data-color":"blue"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"card-title text-center"},"Hello ",this.props.profile.name,"!"),r.a.createElement("h4",{className:"card-title text-center"},"Make a wish!")),r.a.createElement("div",{className:"card-content"},r.a.createElement("img",{alt:"Profile",className:"img-circle img-profile",src:this.props.profile.picture}),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",placeholder:"Title",className:"form-control",onChange:function(t){return e.setState({title:t.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Your Wish"),r.a.createElement("textarea",{className:"form-control",placeholder:"Wish for something meaningful",rows:"3",onChange:function(t){return e.setState({wish:t.target.value})}})),r.a.createElement("button",{type:"submit",className:"btn btn-fill btn-info pull-right"},"Wish"))),r.a.createElement("div",{className:"card-footer text-center"}))))))))}}]),a}(r.a.Component);var A=Object(i.b)((function(e){return{profile:e.account.profile.me||""}}))(Object(o.f)(k));var C=Object(i.b)((function(e){return{isAuthAdmin:e.account.isAuthAdmin||!1,isAuthStaff:e.account.isAuthStaff||!1,isAuthMember:e.account.isAuthMember||!1}}))((function(e){return r.a.createElement(o.a,e)}));var x=function(){return r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(C,{exact:!0,path:"/dashboard"},r.a.createElement(f,{pageTitle:"Make a Wish"},r.a.createElement(A,null))),r.a.createElement(C,{exact:!0,path:"/dashboard/users"},r.a.createElement(f,{pageTitle:"Users"},r.a.createElement(y,null))),r.a.createElement(C,{exact:!0,path:"/dashboard/wishes"},r.a.createElement(f,{pageTitle:"Wishes"},r.a.createElement(T,null))),r.a.createElement(C,{path:"/dashboard/*"},r.a.createElement(f,{pageTitle:"Not Found"},r.a.createElement(w,null))),r.a.createElement(o.a,{path:"/*"},r.a.createElement(f,null,r.a.createElement(w,null)))))},R=a(56),_=a(199),L={status:!0,profile:{me:""}};var U=Object(R.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)({},e,{global:t.error});case"ERROR_GENERIC_CLEAR":return Object(u.a)({},e,{global:""});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETALL_USERS":return Object(u.a)({},e,{users:t.users});case"GETALL_POSTS":return Object(u.a)({},e,{posts:t.posts});case"GET_USERS_POSTS":return Object(u.a)({},e,{wishes:t.wishes});case"USER_SELF":return Object(u.a)({},e,{profile:t.profile,csrf:t.profile.me.csrf_token});default:return e}}}),G=a(200),M=a.n(G);a(230),a(239),a(422),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=function(){var e=Object(R.a)(_.a)(R.d)(U,void 0);return e.subscribe(M()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}({account:e.getState().account})}),1e3)),e}();l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:W},r.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[201,1,2]]]);
//# sourceMappingURL=main.bc946962.chunk.js.map
