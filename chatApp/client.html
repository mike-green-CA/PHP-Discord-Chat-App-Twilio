<html>
<head>
    <script>
        // quick javascript to act as a client to our web socket server
        // to state the obvious, this has nothing to do with PHP; this is javascript
        var conn = new WebSocket('ws://localhost:9000');

        // some basic call back functions when certain events happen on the web socket server

        // when we successfully connect, log a simple message
        conn.onopen = function (e) {
            console.log("Connected!");
        };

        // when we receive a message, log that message
        conn.onmessage = function (e) {
            console.log(e.data);
        };

        conn.onclose = function (e) {
            console.log("Disconnected!");
        };

        // when the send button is pressed, sendMessage is called
        sendMessage = function (e) {
            // grab the current value in the input field
            var value = document.getElementById("text").value;
            console.log(value); // log that value
            conn.send(value);   // send that value to our web socket connect
        }

    </script>
</head>

<body>
<input id="text" type="text"/>
<button onclick="sendMessage();">send!</button>
</body>
</html>
